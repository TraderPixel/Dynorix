<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <title>Dynorix Â· Signal Forge (standalone)</title>
  <!-- Inter font (same as script 1) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Font Awesome 6 (same as script 1) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ----- base & design tokens from script 1 (dark, red/black) ----- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    :root {
      --bg-dark: #0a0a0a;
      --bg-card: #0e0e0e;
      --bg-card-light: #1a1a1a;
      --primary-red: #dc2626;
      --primary-red-hover: #b91c1c;
      --candle-blur-unlocked: 2px;
      --candle-blur-locked: 8px;
    }

    body {
      background-color: var(--bg-dark);
      background-image: radial-gradient(circle at 25% 0%, rgba(220, 38, 38, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 75% 100%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px 12px 40px;
      color: #ededed;
    }

    /* main window â€“ exactly like script 1 container */
    .app-window {
      width: 100%;
      max-width: 380px;
      background: linear-gradient(145deg, var(--bg-card), var(--bg-card-light));
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      margin-bottom: 24px;
      overflow: hidden;
    }

    /* title bar */
    .win-title {
      height: 36px;
      background: rgba(17, 17, 17, 0.9);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    .win-dots {
      display: flex;
      gap: 6px;
    }
    .win-dot { width: 10px; height: 10px; border-radius: 10px; }
    .win-dot.red { background: #dc2626; }
    .win-dot.yellow { background: #eab308; }
    .win-dot.green { background: #22c55e; }

    .win-status {
      display: flex;
      align-items: center;
      gap: 6px;
      color: rgba(255,255,255,0.6);
      font-size: 10px;
      font-weight: 500;
    }
    .pulse-led {
      width: 8px; height: 8px;
      background: #dc2626;
      border-radius: 8px;
      animation: pulse 1.5s infinite;
    }

    /* content */
    .content { padding: 16px; }

    /* dynorix header (no login buttons) */
    .logo-area {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }
    .logo h1 {
      font-size: 1.5rem;
      font-weight: 800;
      letter-spacing: -0.02em;
      color: white;
      line-height: 1.2;
    }
    .logo span { color: #dc2626; }
    .logo-sub {
      color: rgba(220,38,38,0.8);
      font-size: 9px;
      font-weight: 600;
      letter-spacing: 0.2em;
      text-transform: uppercase;
    }

    .badge-mini {
      background: rgba(255,255,255,0.05);
      border: 1px solid #dc2626;
      color: #ffaeae;
      border-radius: 40px;
      padding: 4px 12px;
      font-size: 11px;
      font-weight: 600;
    }

    /* search */
    .search-wrap {
      position: relative;
      margin-bottom: 12px;
    }
    .search-wrap input {
      width: 100%;
      background: rgba(17,17,17,0.8);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 40px;
      padding: 10px 40px 10px 16px;
      color: white;
      font-size: 13px;
    }
    .search-wrap i {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      color: #666;
    }

    /* instrument row */
    .instrument-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 16px 0;
    }
    .instrument-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .instr-icon {
      width: 36px; height: 36px;
      background: #dc2626;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 18px;
      box-shadow: 0 0 15px #dc2626;
    }
    .instr-name p:first-child {
      color: white;
      font-weight: 600;
      font-size: 14px;
    }
    .instr-name p:last-child {
      color: #666;
      font-size: 10px;
    }

    /* toggle (non functional â€” just design) */
    .toggle-placeholder {
      width: 44px;
      height: 22px;
      background: #2f2f2f;
      border-radius: 40px;
      position: relative;
      border: 1px solid #3f3f3f;
    }
    .toggle-placeholder::after {
      content: "";
      width: 18px; height: 18px;
      background: #aaa;
      border-radius: 18px;
      position: absolute;
      top: 1px; right: 2px;
    }

    /* chart placeholder (unlocked, no overlay) */
    .chart-placeholder {
      width: 100%;
      height: 140px;
      background: linear-gradient(145deg, #0f0f0f, #1a1a1a);
      border-radius: 16px;
      border: 1px solid rgba(220,38,38,0.3);
      margin: 16px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #dc2626;
      font-size: 13px;
      font-weight: 600;
      gap: 10px;
      box-shadow: inset 0 0 30px rgba(0,0,0,0.8);
    }
    .chart-placeholder i { opacity: 0.6; }

    /* bottom toolbar */
    .toolbar {
      display: flex;
      align-items: center;
      justify-content: space-around;
      border-top: 1px solid rgba(255,255,255,0.05);
      padding-top: 16px;
    }
    .toolbar button {
      background: transparent;
      border: none;
      color: #777;
      font-size: 20px;
      padding: 6px 12px;
      border-radius: 30px;
      transition: 0.2s;
      cursor: pointer;
    }
    .toolbar button:hover { color: #dc2626; background: rgba(220,38,38,0.1); }

    /* ----- signal panel (script2 assets, time, direction) exactly in script1 design language ----- */
    .signal-panel {
      width: 100%;
      max-width: 380px;
      background: linear-gradient(145deg, #0e0e0e, #151515);
      border-radius: 24px;
      border: 1px solid rgba(220,38,38,0.2);
      padding: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.5);
      margin-bottom: 24px;
    }

    .panel-header {
      display: flex;
      align-items: center;
      gap: 8px;
      border-bottom: 1px solid #dc2626;
      padding-bottom: 8px;
      margin-bottom: 16px;
    }
    .panel-header i { color: #dc2626; font-size: 1.2rem; }
    .panel-header h3 { font-weight: 700; font-size: 1rem; letter-spacing: 0.1em; }

    .grid-2col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    label {
      font-size: 0.7rem;
      text-transform: uppercase;
      color: #ffb0b0;
      display: block;
      margin-bottom: 4px;
      letter-spacing: 0.05em;
    }

    select, input[type="date"], input[type="time"], input[type="number"] {
      width: 100%;
      padding: 10px 12px;
      background: rgba(20,8,8,0.8);
      border: 1px solid #b22222;
      border-radius: 12px;
      color: white;
      font-size: 0.9rem;
      margin-bottom: 14px;
      outline: none;
    }

    .asset-checkbox-area {
      max-height: 180px;
      overflow-y: auto;
      border: 1px solid #330f0f;
      border-radius: 14px;
      padding: 8px 12px;
      margin-bottom: 16px;
    }
    .asset-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 4px;
      border-bottom: 1px solid rgba(220,38,38,0.2);
    }
    .asset-item input[type="checkbox"] {
      width: 16px; height: 16px;
      accent-color: #dc2626;
      margin: 0;
    }
    .asset-item label {
      margin: 0;
      text-transform: none;
      color: #ddd;
      font-size: 0.8rem;
    }

    .btn-group {
      display: flex;
      gap: 12px;
      margin-top: 10px;
      flex-wrap: wrap;
    }
    .btn {
      padding: 10px 18px;
      border-radius: 40px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: 0.2s;
      font-size: 0.85rem;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .btn-primary {
      background: #dc2626;
      color: white;
      box-shadow: 0 8px 20px #dc2626;
    }
    .btn-primary:hover { background: #b91c1c; transform: scale(1.02); }
    .btn-outline {
      background: transparent;
      border: 1px solid #dc2626;
      color: #ffcaca;
    }
    .btn-outline:hover { background: rgba(220,38,38,0.15); }

    /* output dual area â€“ matches script1 design, empty at start */
    .output-area {
      max-width: 380px;
      width: 100%;
      background: linear-gradient(145deg, #0e0e0e, #151515);
      border-radius: 24px;
      border: 1px solid #dc2626;
      padding: 20px;
      box-shadow: 0 0 30px rgba(220,38,38,0.2);
    }

    .output-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 16px;
      color: #ffaeae;
      font-size: 0.75rem;
      text-transform: uppercase;
    }
    .dual-pane {
      display: grid;
      grid-template-columns: 1fr 1.8fr;
      gap: 12px;
    }
    .raw-terminal {
      background: #0a0303;
      border-radius: 16px;
      border: 1px solid #b22222;
      padding: 12px;
      min-height: 200px;
      font-family: monospace;
      font-size: 0.75rem;
      white-space: pre-wrap;
      color: #ffcaca;
      box-shadow: inset 0 0 30px #1f0707;
    }
    .table-view {
      background: #0f0505;
      border-radius: 16px;
      border: 1px solid #b22222;
      padding: 8px;
      max-height: 240px;
      overflow-y: auto;
    }
    .signal-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.7rem;
    }
    .signal-table th {
      color: #ffa0a0;
      text-align: left;
      border-bottom: 1px solid #dc2626;
      padding-bottom: 4px;
    }
    .signal-table td {
      padding: 6px 2px;
      border-bottom: 1px solid rgba(220,38,38,0.3);
    }
    .asset-badge {
      background: rgba(255,255,255,0.05);
      border: 1px solid #dc2626;
      border-radius: 20px;
      padding: 2px 8px;
      font-size: 0.65rem;
    }
    .dir-call { color: #86efac; font-weight: 600; }
    .dir-put { color: #f87171; font-weight: 600; }
    .empty-message {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 160px;
      color: #774444;
      font-style: italic;
      flex-direction: column;
      gap: 8px;
    }

    .footer-credit {
      margin-top: 20px;
      color: #883333;
      font-size: 0.7rem;
      text-align: center;
    }
    @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } }
  </style>
</head>
<body>

  <!-- MAIN WINDOW â€“ script1 look (no login, no payment) -->
  <div class="app-window">
    <div class="win-title">
      <div class="win-dots">
        <div class="win-dot red"></div>
        <div class="win-dot yellow"></div>
        <div class="win-dot green"></div>
      </div>
      <div class="win-status">
        <span class="pulse-led"></span>
        <span>signal forge Â· active</span>
      </div>
    </div>

    <div class="content">
      <!-- logo without any sign in/up -->
      <div class="logo-area">
        <div class="logo">
          <h1>DYNORIX<span> PRO</span></h1>
          <div class="logo-sub">TRADERPIXEL</div>
        </div>
        <div class="badge-mini">v2 Â· standalone</div>
      </div>

      <!-- search (static) -->
      <div class="search-wrap">
        <input type="text" placeholder="Search assets (OTC)" value="OTC signals">
        <i class="fas fa-search"></i>
      </div>

      <!-- instrument + toggle (no functionality) -->
      <div class="instrument-row">
        <div class="instrument-left">
          <div class="instr-icon">â‚¿</div>
          <div class="instr-name">
            <p>USD/TRY (OTC) 1m</p>
            <p>76354673635</p>
          </div>
        </div>
        <div class="toggle-placeholder"></div>
      </div>

      <!-- chart placeholder (always unlocked) -->
      <div class="chart-placeholder">
        <i class="fas fa-chart-line"></i> LIVE CHART Â· UNLOCKED
      </div>

      <!-- toolbar (only wallet icon removed, settings/cog remains) -->
      <div class="toolbar">
        <button><i class="fas fa-search"></i></button>
        <button><i class="fas fa-cog"></i></button>
        <button><i class="fas fa-sliders-h"></i></button>
      </div>
    </div>
  </div>

  <!-- SIGNAL GENERATOR PANEL (script2 logic, design adapted to script1) -->
  <div class="signal-panel">
    <div class="panel-header">
      <i class="fas fa-bolt"></i>
      <h3>SIGNAL CONFIGURATOR Â· OTC</h3>
    </div>

    <!-- asset selection (checkboxes) -->
    <label><i class="far fa-check-circle" style="margin-right:4px;"></i>ASSET POOL (OTC)</label>
    <div class="asset-checkbox-area" id="assetCheckboxContainer"></div>
    <div style="display:flex; gap:6px; margin-bottom:14px;">
      <button class="btn-outline" style="padding:6px 12px; font-size:0.7rem;" id="selectAllAssets">ALL</button>
      <button class="btn-outline" style="padding:6px 12px; font-size:0.7rem;" id="clearAssets">CLEAR</button>
      <span style="margin-left:auto; color:#ffaeae; font-size:0.7rem;" id="selectedCount">0</span>
    </div>

    <div class="grid-2col">
      <div>
        <label>START DATE</label>
        <input type="date" id="startDate">
      </div>
      <div>
        <label>START TIME</label>
        <input type="time" id="startTime" value="09:00">
      </div>
      <div>
        <label>END DATE</label>
        <input type="date" id="endDate">
      </div>
      <div>
        <label>END TIME</label>
        <input type="time" id="endTime" value="17:00">
      </div>
    </div>

    <label>DIRECTION MODE</label>
    <select id="directionMode">
      <option value="random">random UP/DOWN</option>
      <option value="call-heavy">bullish (70% CALL)</option>
      <option value="put-heavy">bearish (70% PUT)</option>
    </select>

    <label>MARKET FILTER</label>
    <select id="marketCategory">
      <option value="all">ALL OTC</option>
      <option value="currencies">forex OTC</option>
      <option value="crypto">crypto OTC</option>
      <option value="commodities">commodities</option>
      <option value="stocks">stocks OTC</option>
    </select>

    <label>NUMBER OF SIGNALS</label>
    <input type="number" id="signalCount" min="5" max="50" value="16">

    <div class="btn-group">
      <button class="btn btn-primary" id="generateBtn"><i class="fas fa-bolt"></i> GENERATE</button>
      <button class="btn-outline" id="copyBtn"><i class="fas fa-copy"></i> COPY</button>
    </div>
  </div>

  <!-- OUTPUT AREA â€“ dual view, empty initially -->
  <div class="output-area">
    <div class="output-header">
      <span><i class="fas fa-satellite-dish"></i> LIVE SIGNALS</span>
      <span id="outputBadge">awaiting generation</span>
    </div>
    <div class="dual-pane">
      <!-- raw terminal (empty) -->
      <div class="raw-terminal" id="rawOutputBox">
        <div class="empty-message">
          <i class="fas fa-radio" style="font-size:1.4rem;"></i>
          <span>no signals</span>
        </div>
      </div>
      <!-- table (empty) -->
      <div class="table-view">
        <table class="signal-table">
          <thead><tr><th>time</th><th>asset</th><th>dir</th></tr></thead>
          <tbody id="tableBody">
            <tr><td colspan="3" style="text-align:center; color:#774444;">â€”â€” empty â€”â€”</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="footer-credit">âš¡ DYNORIX PRO Â· standalone signal forge Â· no login/payment</div>

  <script>
    (function() {
      // ----- ASSET DATABASE (script2 full list) -----
      const OTC_CURRENCIES = [
        "NZD/CHF (OTC)", "NZD/USD (OTC)", "GBP/NZD (OTC)", "USD/ARS (OTC)",
        "EUR/NZD (OTC)", "USD/COP (OTC)", "USD/BRL (OTC)", "NZD/JPY (OTC)",
        "USD/DZD (OTC)", "USD/NGN (OTC)", "CAD/CHF (OTC)", "USD/PHP (OTC)",
        "USD/BDT (OTC)", "USD/IDR (OTC)", "NZD/CAD (OTC)", "EUR/SGD (OTC)",
        "USD/EGP (OTC)", "USD/INR (OTC)", "USD/MXN (OTC)", "USD/ZAR (OTC)",
        "AUD/NZD (OTC)", "USD/PKR (OTC)", "USD/TRY (OTC)"
      ];
      const OTC_CRYPTO = [
        "Ethereum Classic (OTC)", "Cardano (OTC)", "Dogecoin (OTC)", "Beam (OTC)",
        "Polkadot (OTC)", "Axie Infinity (OTC)", "Dash (OTC)", "Cosmos (OTC)",
        "Bonk (OTC)", "Floki (OTC)", "Chainlink (OTC)"
      ];
      const OTC_COMMODITIES = ["Silver (OTC)", "USCrude (OTC)", "Gold (OTC)", "UKBrent (OTC)"];
      const OTC_STOCKS = [
        "Microsoft (OTC)", "Intel (OTC)", "Pfizer Inc (OTC)", "FACEBOOK INC (OTC)",
        "American Express (OTC)", "Boeing Company (OTC)", "Johnson & Johnson (OTC)",
        "McDonald's (OTC)"
      ];
      const ALL_ASSETS = [...OTC_CURRENCIES, ...OTC_CRYPTO, ...OTC_COMMODITIES, ...OTC_STOCKS];

      // state
      let selectedAssets = ALL_ASSETS.slice(); // default all selected
      let generatedSignals = [];

      // dom elements
      const container = document.getElementById('assetCheckboxContainer');
      const selectAllBtn = document.getElementById('selectAllAssets');
      const clearBtn = document.getElementById('clearAssets');
      const selectedSpan = document.getElementById('selectedCount');
      const startDate = document.getElementById('startDate');
      const endDate = document.getElementById('endDate');
      const startTime = document.getElementById('startTime');
      const endTime = document.getElementById('endTime');
      const directionMode = document.getElementById('directionMode');
      const marketCategory = document.getElementById('marketCategory');
      const signalCount = document.getElementById('signalCount');
      const generateBtn = document.getElementById('generateBtn');
      const copyBtn = document.getElementById('copyBtn');
      const rawOutput = document.getElementById('rawOutputBox');
      const tableBody = document.getElementById('tableBody');
      const outputBadge = document.getElementById('outputBadge');

      // set default dates (today / tomorrow)
      const today = new Date();
      const tomorrow = new Date(today); tomorrow.setDate(tomorrow.getDate() + 1);
      const formatDate = (d) => d.toISOString().split('T')[0];
      startDate.value = formatDate(today);
      endDate.value = formatDate(tomorrow);

      // render checkboxes
      function renderCheckboxes() {
        let html = '';
        ALL_ASSETS.forEach(asset => {
          const checked = selectedAssets.includes(asset) ? 'checked' : '';
          html += `<div class="asset-item">
            <input type="checkbox" class="asset-cb" value="${asset}" ${checked}>
            <label>${asset}</label>
          </div>`;
        });
        container.innerHTML = html;
        attachCheckboxListeners();
        updateCount();
      }

      function attachCheckboxListeners() {
        document.querySelectorAll('.asset-cb').forEach(cb => {
          cb.addEventListener('change', function(e) {
            const val = this.value;
            if (this.checked) {
              if (!selectedAssets.includes(val)) selectedAssets.push(val);
            } else {
              selectedAssets = selectedAssets.filter(a => a !== val);
            }
            updateCount();
          });
        });
      }

      function updateCount() {
        selectedSpan.innerText = selectedAssets.length;
      }

      selectAllBtn.addEventListener('click', () => {
        document.querySelectorAll('.asset-cb').forEach(cb => cb.checked = true);
        selectedAssets = ALL_ASSETS.slice();
        updateCount();
      });

      clearBtn.addEventListener('click', () => {
        document.querySelectorAll('.asset-cb').forEach(cb => cb.checked = false);
        selectedAssets = [];
        updateCount();
      });

      // category filter
      function getCategoryFiltered() {
        const cat = marketCategory.value;
        if (cat === 'currencies') return OTC_CURRENCIES;
        if (cat === 'crypto') return OTC_CRYPTO;
        if (cat === 'commodities') return OTC_COMMODITIES;
        if (cat === 'stocks') return OTC_STOCKS;
        return ALL_ASSETS;
      }

      function getEffectiveAssets() {
        const catList = getCategoryFiltered();
        return selectedAssets.filter(a => catList.includes(a));
      }

      // helpers
      function pad(n) { return String(n).padStart(2,'0'); }
      function randomInt(min,max) { return Math.floor(Math.random()*(max-min+1))+min; }
      function randomDirection(type) {
        if (type === 'call-heavy') return Math.random() < 0.7 ? 'CALL' : 'PUT';
        if (type === 'put-heavy') return Math.random() < 0.7 ? 'PUT' : 'CALL';
        return Math.random() > 0.5 ? 'CALL' : 'PUT';
      }

      // generate signals (fills outputs)
      function generateSignals() {
        const assets = getEffectiveAssets();
        if (assets.length === 0) { alert('Select at least one asset.'); return; }

        const start = startDate.value;
        const end = endDate.value;
        const sTime = startTime.value;
        const eTime = endTime.value;
        if (!start || !end || !sTime || !eTime) { alert('fill date/time'); return; }

        const startDateTime = new Date(`${start}T${sTime}:00`);
        let endDateTime = new Date(`${end}T${eTime}:00`);
        if (startDateTime >= endDateTime) { alert('Start must be before end'); return; }

        const now = new Date();
        if (endDateTime <= now) { alert('End time must be in the future (adjust date)'); return; }

        const count = parseInt(signalCount.value, 10) || 16;
        const dirMode = directionMode.value;

        const signals = [];
        let current = new Date(Math.max(startDateTime.getTime(), now.getTime()));
        let safety = 0;
        while (signals.length < count && current < endDateTime && safety++ < 200) {
          const asset = assets[Math.floor(Math.random() * assets.length)];
          const direction = randomDirection(dirMode);
          signals.push({ time: new Date(current), asset, direction });
          const gap = randomInt(3,10);
          current = new Date(current.getTime() + gap * 60000);
        }
        generatedSignals = signals;
        renderOutput(signals);
        outputBadge.innerText = `${signals.length} signals Â· ready`;
      }

      function renderOutput(signals) {
        // raw terminal
        if (signals.length === 0) {
          rawOutput.innerHTML = `<div class="empty-message"><i class="fas fa-radio"></i><span>no signals</span></div>`;
          tableBody.innerHTML = '<tr><td colspan="3" style="text-align:center; color:#774444;">â€”â€” empty â€”â€”</td></tr>';
          return;
        }
        let txt = 'ðŸš€ DYNORIX SIGNALS (OTC)\n';
        signals.forEach(s => {
          const hh = pad(s.time.getHours());
          const mm = pad(s.time.getMinutes());
          txt += `${hh}:${mm} - ${s.asset} - ${s.direction}\n`;
        });
        rawOutput.innerText = txt;

        // table
        let rows = '';
        signals.forEach(s => {
          const timeStr = `${pad(s.time.getHours())}:${pad(s.time.getMinutes())}`;
          const dirClass = s.direction === 'CALL' ? 'dir-call' : 'dir-put';
          rows += `<tr><td>${timeStr}</td><td><span class="asset-badge">${s.asset}</span></td><td class="${dirClass}">${s.direction}</td></tr>`;
        });
        tableBody.innerHTML = rows;
      }

      function copyAll() {
        if (generatedSignals.length === 0) { alert('Generate first'); return; }
        let txt = '';
        generatedSignals.forEach(s => {
          const hh = pad(s.time.getHours());
          const mm = pad(s.time.getMinutes());
          txt += `${hh}:${mm} - ${s.asset} - ${s.direction}\n`;
        });
        navigator.clipboard.writeText(txt).then(() => {
          alert('copied to clipboard');
        });
      }

      // init
      renderCheckboxes();
      // ensure empty outputs at start
      renderOutput([]);
      outputBadge.innerText = 'awaiting generation';

      generateBtn.addEventListener('click', generateSignals);
      copyBtn.addEventListener('click', copyAll);
    })();
  </script>
</body>
</html>